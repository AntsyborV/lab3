---
kind: pipeline
type: docker
name: lab3

steps:
  - name: cowsay_greetings
    image: alpine
    commands:
      - apk update
      - apk add --no-cache git perl
      - cd /tmp 
      - git clone https://github.com/jasonm23/cowsay.git 
      - cd cowsay ; ./install.sh /usr/local
      - /usr/local/bin/cowsay "Lab 3 Antsybor"

  - name: cleanup
    image: alpine
    commands:
      - rm -rf /var/cache/apk/* /var/tmp/* /tmp/* 
      - rm -rf cowsay_greetings/
      - echo "Cleanup completed"

        #
# - name: build
#   image: gcc:latest
#   commands:
#     - g++ -o hello_cpp hello.cpp
#     - ./hello_cpp

# - name: test-python
#   image: python:3.10
#   commands:
#     - python test.py

# - name: lint-python
#   image: python:3.10
#   commands:
#     - pip install pylint
#     - pylint script.py

  
trigger:
  branch:
  - main
